(function(){var t,e={}.hasOwnProperty;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var n,a;return n=function(n,a){var r,l,o,i,c,s,u,d,p,h,f,m,g,v,b,w,E,T,C,A,L,M,y,H;s={localeStrings:{totals:"Totals"}},a=t.extend(s,a),o=n.colAttrs,f=n.rowAttrs,g=n.getRowKeys(),c=n.getColKeys(),h=document.createElement("table"),t(h).width(a.datatables.width),h.className=a.datatables["class"].join(" "),C=document.createElement("thead"),b=document.createElement("tbody"),E=document.createElement("tfoot"),v=function(t,e,n){var a,r,l,o,i,c,s,u;if(0!==e){for(o=!0,u=a=0,i=n;i>=0?i>=a:a>=i;u=i>=0?++a:--a)t[e-1][u]!==t[e][u]&&(o=!1);if(o)return-1}for(l=0;e+l<t.length;){for(s=!1,u=r=0,c=n;c>=0?c>=r:r>=c;u=c>=0?++r:--r)t[e][u]!==t[e+l][u]&&(s=!0);if(s)break;l++}return l};for(d in o)if(e.call(o,d)){l=o[d],L=document.createElement("tr"),0===parseInt(d)&&0!==f.length&&(T=document.createElement("th"),T.setAttribute("colspan",f.length),T.setAttribute("rowspan",o.length),L.appendChild(T)),T=document.createElement("th"),T.className="pvtAxisLabel",t(T).css("white-space","nowrap"),T.innerHTML=l,L.appendChild(T);for(u in c)e.call(c,u)&&(i=c[u],H=v(c,parseInt(u),parseInt(d)),-1!==H&&(T=document.createElement("th"),t(T).off("dblclick").on("dblclick",function(e){var n;return n=t.Event("colLabelDrillDownEvent",{event:e,renderingEngineId:a.renderingEngineId}),t(window).trigger(n)}),T.className="pvtColLabel",T.innerHTML=i[d],T.setAttribute("colspan",H),parseInt(d)===o.length-1&&0!==f.length&&T.setAttribute("rowspan",2),L.appendChild(T)));0===parseInt(d)&&(T=document.createElement("th"),T.className="pvtTotalLabel",T.innerHTML=a.localeStrings.totals,T.setAttribute("rowspan",o.length+(0===f.length?0:1)),L.appendChild(T)),C.appendChild(L)}if(0!==f.length){L=document.createElement("tr");for(u in f)e.call(f,u)&&(p=f[u],T=document.createElement("th"),t(T).css("white-space","nowrap"),T.className="pvtAxisLabel",T.innerHTML=p,L.appendChild(T));T=document.createElement("th"),0===o.length&&(T.className="pvtTotalLabel",T.innerHTML=a.localeStrings.totals),L.appendChild(T),C.appendChild(L)}for(u in g)if(e.call(g,u)){m=g[u],L=document.createElement("tr");for(d in m)e.call(m,d)&&(M=m[d],T=document.createElement("th"),t(T).css("white-space","nowrap"),t(T).off("dblclick").on("dblclick",function(e){var n;return n=t.Event("rowLabelDrillDownEvent",{event:e,renderingEngineId:a.renderingEngineId}),t(window).trigger(n)}),T.className="pvtRowLabel",T.innerHTML=M,L.appendChild(T),parseInt(d)===f.length-1&&0!==o.length&&L.appendChild(document.createElement("th")));for(d in c)e.call(c,d)&&(i=c[d],r=n.getAggregator(m,i),y=r.value(),w=document.createElement("td"),w.className="pvtVal row"+u+" col"+d,w.innerHTML=r.format(y),w.setAttribute("data-value",y),L.appendChild(w));A=n.getAggregator(m,[]),y=A.value(),w=document.createElement("td"),w.className="pvtTotal rowTotal",w.innerHTML=A.format(y),w.setAttribute("data-value",y),w.setAttribute("data-for","row"+u),L.appendChild(w),b.appendChild(L)}L=document.createElement("tr"),T=document.createElement("th"),T.className="pvtTotalLabel",T.innerHTML=a.localeStrings.totals,T.setAttribute("colspan",f.length+(0===o.length?0:1)),L.appendChild(T);for(d in c)e.call(c,d)&&(i=c[d],A=n.getAggregator([],i),y=A.value(),w=document.createElement("td"),w.className="pvtTotal colTotal",w.innerHTML=A.format(y),w.setAttribute("data-value",y),w.setAttribute("data-for","col"+d),L.appendChild(w));return A=n.getAggregator([],[]),y=A.value(),w=document.createElement("td"),w.className="pvtGrandTotal",w.innerHTML=A.format(y),w.setAttribute("data-value",y),L.appendChild(w),h.appendChild(C),h.appendChild(b),E.appendChild(L),h.appendChild(E),h.setAttribute("data-numrows",g.length),h.setAttribute("data-numcols",c.length),h},t.fn.finalize=function(e){var n,a,r,l,o;return r=e.numRows,n=e.numCols,a=r,n>0&&(a+=1),l={scrollY:e.datatables.height,fixedColumns:{leftColumns:a,rightColumns:1},scrollX:!0,scrollCollapse:!0,paging:!1,keys:!0,dom:"Bfrtip",buttons:["csvHtml5","pdfHtml5","print"]},o=0!==r||0!==n?{html:this.width("100%"),type:"datatables",postRenderOpts:l,postRenderFunction:function(e,n){t(e).DataTable(n)}}:{html:this,type:"datatables"}},t.fn.heatmap=function(e){var n,a,r,l,o,i,c,s,u,d;switch(null==e&&(e="heatmap"),s=this.data("numrows"),c=this.data("numcols"),n=function(t,e,n){var a;return a=function(){switch(t){case"red":return function(t){return"ff"+t+t};case"green":return function(t){return t+"ff"+t};case"blue":return function(t){return""+t+t+"ff"}}}(),function(t){var r,l;return l=255-Math.round(255*(t-e)/(n-e)),r=l.toString(16).split(".")[0],1===r.length&&(r=0+r),a(r)}},a=function(e){return function(a,r){var l,o,i;return o=function(n){return e.find(a).each(function(){var e;return e=t(this).data("value"),null!=e&&isFinite(e)?n(e,t(this)):void 0})},i=[],o(function(t){return i.push(t)}),l=n(r,Math.min.apply(Math,i),Math.max.apply(Math,i)),o(function(t,e){return e.css("background-color","#"+l(t))})}}(this),e){case"heatmap":a(".pvtVal","red");break;case"rowheatmap":for(r=o=0,u=s;u>=0?u>o:o>u;r=u>=0?++o:--o)a(".pvtVal.row"+r,"red");break;case"colheatmap":for(l=i=0,d=c;d>=0?d>i:i>d;l=d>=0?++i:--i)a(".pvtVal.col"+l,"red")}return a(".pvtTotal.rowTotal","red"),a(".pvtTotal.colTotal","red"),this},t.fn.barchart=function(){var e,n,a,r,l,o;for(l=this.data("numrows"),r=this.data("numcols"),e=function(e){return function(n){var a,r,l,o;return a=function(a){return e.find(n).each(function(){var e;return e=t(this).data("value"),null!=e&&isFinite(e)?a(e,t(this)):void 0})},o=[],a(function(t){return o.push(t)}),r=Math.max.apply(Math,o),l=function(t){return 100*t/(1.4*r)},a(function(e,n){var a,r;return a=n.text(),r=t("<div>").css({position:"relative"}),r.append(t("<div>").css({position:"absolute",bottom:-2,left:0,right:0,height:l(e)+"%","background-color":"gray"})),r.append(t("<div>").text(a).css({position:"relative","padding-left":"5px","padding-right":"5px"})),n.css({padding:0,"padding-top":"5px","text-align":"center"}).html(r)})}}(this),n=a=0,o=l;o>=0?o>a:a>o;n=o>=0?++a:--a)e(".pvtVal.row"+n);return e(".pvtTotal.colTotal"),this},a={Table:function(e,a){return t(n(e,a)).finalize(a)},"Table Barchart":function(e,a){return t(n(e,a)).barchart().finalize(a)},Heatmap:function(e,a){return t(n(e,a)).heatmap().finalize(a)},"Row Heatmap":function(e,a){return t(n(e,a)).heatmap("rowheatmap").finalize(a)},"Col Heatmap":function(e,a){return t(n(e,a)).heatmap("colheatmap").finalize(a)}}})}).call(this);
//# sourceMappingURL=datatables_renderers.min.js.map
