!function(a,b){void 0===a.ngRndr&&(a.ngRndr={}),void 0===a.ngRndr.plugins&&(a.ngRndr.plugins={}),void 0===a.ngRndr.plugins.pivotData&&(a.ngRndr.plugins.pivotData={}),void 0===a.ngRndr.plugins.pivotData.renderers&&(a.ngRndr.plugins.pivotData.renderers={}),void 0===a.ngRndr.plugins.pivotData.renderers.c3&&(a.ngRndr.plugins.pivotData.renderers.c3={}),"function"==typeof define&&define.amd?define("$ngRndrRenderingEngine",["jquery","angular","$ngRndrFormatters","$ngRndrSorters","$ngRndrDerivedAttributes","$ngRndrAggregators","$ngRndrDataViews","$ngRndrRenderers"],function(c,d,e,f,g,h,i,j){return a.ngRndr.RenderingEngine=b(a,c,d,e,f,g,h,i,j)}):"object"==typeof module&&module.exports?module.exports=a.ngRndr.RenderingEngine=b(a,require("jquery"),require("angular"),require("$ngRndrFormatters"),require("$ngRndrSorters"),require("$ngRndrDerivedAttributes"),require("$ngRndrAggregators"),require("$ngRndrDataViews"),require("$ngRndrRenderers")):a.ngRndr.RenderingEngine=b(a,a.$,a.angular,a.ngRndr.plugins.formatters,a.ngRndr.plugins.sorters,a.ngRndr.plugins.derivedAttributes,a.ngRndr.plugins.aggregators,a.ngRndr.plugins.dataViews,a.ngRndr.plugins.renderers)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b,c,e,f,g,j,l,m,n){if(void 0===m&&""===m&&null===m||(this.element=m),void 0!==n&&""!==n&&null!==n||(n=[]),void 0===b||""===b||null===b?this.id=k():this.id=b,void 0===a||""===a||null===a){var o=new Error("RenderingEngine constructor: cannot instantiate a RenderingEngine object without a renderer name.");throw"undefined"!=typeof console&&null!==console&&console.error(o.stack),o}this.renderer=a,void 0!==j&&""!==j&&null!==j?this.locale=j:this.locale="en",this.setAggregator(c,e),this.setDerivedAttributes(g),this.setSorters(l),void 0!==f&&""!==f&&null!==f?this.dataView=new h[i[this.renderer].dataViewName].view(n,{aggregator:this.aggregator,derivedAttributes:this.derivedAttributes,sorters:this.sorters,formatters:d,meta:f}):this.dataView=new h[i[this.renderer].dataViewName].view(n,{aggregator:this.aggregator,derivedAttributes:this.derivedAttributes,sorters:this.sorters,formatters:d}),this.dirty=!1}var k=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})};return j.prototype={constructor:j,setRenderer:function(a){if(void 0===a||""===a||null===a){var b=new Error("Cannot configure a rendering engine without a renderer name.");throw"undefined"!=typeof console&&null!==console&&console.error(b.stack),b}this.renderer=a,this.dirty=!0},setLocale:function(a){void 0!==a&&""!==a&&null!==a?this.locale=a:this.locale="en",this.dirty=!0},setElement:function(a){void 0!==a&&""!==a&&null!==a&&(this.element=a),this.dirty=!0},setDerivedAttributes:function(a){this.derivedAttributes={},void 0!==a&&""!==a&&null!==a&&c.forEach(a,function(a){try{this.derivedAttributes[a]=f[a]}catch(c){var b=c;"undefined"!=typeof console&&null!==console&&console.log("The '"+a+"' derived attribute is not configured with the $ngRndrDerivedAttributes service. Stack Trace: "+b.stack)}}),this.dirty=!0},setSorters:function(a){this.sorters={},void 0!==a&&""!==a&&null!==a&&c.forEach(a,function(a){try{this.sorters[a]=e[a]}catch(c){var b=c;"undefined"!=typeof console&&null!==console&&console.log("The '"+a+"' sorter is not configured with the $ngRndrSorters service. Stack Trace: "+b.stack)}}),this.dirty=!0},setAggregator:function(a,b){try{void 0===this.aggregator&&(this.aggregator={name:"Count",aggregate:g.Count.aggregate,aggInputAttributeName:[]})}catch(a){var c=a;"undefined"!=typeof console&&null!==console&&console.log("The 'Count' aggregator is not configured with the $ngRndrAggregators service. Stack Trace: "+c.stack)}if(void 0===a||""===a||null===a){this.aggregator.name="Count";try{this.aggregator.aggregate=g.Count.aggregate}catch(a){var c=a;"undefined"!=typeof console&&null!==console&&console.log("The 'Count' aggregator is not configured with the $ngRndrAggregators service. Stack Trace: "+c.stack)}this.aggregator.aggInputAttributeName=[]}else{this.aggregator.name=a;try{this.aggregator.aggregate=g[a].aggregate}catch(a){var c=a;"undefined"!=typeof console&&null!==console&&console.log("The '"+name+"' aggregator is not configured with the ngRndr.aggregators module. Stack Trace: "+c.stack)}this.aggregator.aggInputAttributeName=[]}var d=g[this.aggregator.name].aggregate([])([]).numInputs;void 0===d?this.aggregator.aggInputAttributeName=new Array:this.aggregator.aggInputAttributeName.length!==d&&(this.aggregator.aggInputAttributeName=new Array(d)),void 0!==b&&""!==b&&null!==b&&(this.aggregator.aggInputAttributeName=b),this.dirty=!0},draw:function(a){var c=this;if(void 0===c.element&&""===c.element&&null===c.element){var j=new Error("RenderingEngine draw: cannot draw a RenderingEngine object without an HTML element container defined.");throw"undefined"!=typeof console&&null!==console&&console.error(j.stack),j}c.element.empty();var k=b("<div>").addClass("rndr-loader").css({top:(c.element.innerHeight()-60)/2,left:(c.element.innerWidth()-60)/2});return c.element.append(k),setTimeout(function(j){var k,l={aggregator:c.aggregator,derivedAttributes:c.derivedAttributes,sorters:c.sorters,formatters:d,meta:c.dataView.meta},m={element:c.element,renderers:i,dataViews:h,sorters:e,aggregators:g,derivedAttributes:f,formatters:d,heightOffset:0,widthOffset:0,locales:{en:{localeStrings:{renderError:"An error occurred rendering the results.",computeError:"An error occurred computing the results."}}},height:c.element.innerHeight(),width:c.element.innerWidth()};try{c.dataView=new h[i[c.renderer].dataViewName].view(a,b.extend(l,h[i[c.renderer].dataViewName].opts));try{k=i[c.renderer].render(c,b.extend(m,i[c.renderer].opts))}catch(a){var n=a;"undefined"!=typeof console&&null!==console&&console.log(n.stack),c.element.empty(),c.element.append(b("<span>").html(m.locales[c.locale].localeStrings.renderError))}}catch(a){var n=a;"undefined"!=typeof console&&null!==console&&console.log(n.stack),c.element.empty(),c.element.append(b("<span>").html(m.locales[c.locale].localeStrings.computeError))}return c.dirty=!1,console.log(c.meta()),k},0,!0,{data:a})},isDirty:function(){return this.dirty||this.dataView.meta.dirty},meta:function(){var a={};return a.renderer=this.renderer,a.id=this.id,a.locale=this.locale,a.dataView={},a.dataView.meta=this.dataView.meta,a.aggregator={name:this.aggregator.name,aggInputAttributeName:this.aggregator.aggInputAttributeName},a.derivedAttributes=[],c.forEach(this.derivedAttributes,function(b,c){a.derivedAttributes.push(c)}),a.sorters=[],c.forEach(this.sorters,function(b,c){a.sorters.push(c)}),a}},j});
//# sourceMappingURL=RenderingEngine.min.js.map