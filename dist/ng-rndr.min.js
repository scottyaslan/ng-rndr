!function(a,b){"function"==typeof define&&define.amd?define(["jquery","angular"],function(a,c){b(a,c)}):"object"==typeof exports&&"object"==typeof module?module.exports=b(require("jquery"),require("angular")):b(a.$,a.angular)}(this,function(a,b){var c,d,e;return function(a){function b(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if(e=p[o.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(a,d.concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(c){if(b(s,c)){var d=s[c];delete s[c],u[c]=!0,n.apply(a,d)}if(!b(r,c)&&!b(u,c))throw new Error("No "+c);return r[c]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&&(e=f(e,g),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return"undefined"!=typeof b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(c,d,e,f){var h,k,m,n,o,t,v,w=[],x=typeof e;if(f=f||c,t=l(f),"undefined"===x||"function"===x){for(d=!d.length&&e.length?["require","exports","module"]:d,o=0;o<d.length;o+=1)if(n=p(d[o],t),k=n.f,"require"===k)w[o]=q.require(c);else if("exports"===k)w[o]=q.exports(c),v=!0;else if("module"===k)h=w[o]=q.module(c);else if(b(r,k)||b(s,k)||b(u,k))w[o]=j(k);else{if(!n.p)throw new Error(c+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=e?e.apply(r[c],w):void 0,c&&(h&&h.exports!==a&&h.exports!==r[c]?r[c]=h.exports:m===a&&v||(r[c]=m))}else c&&(r[c]=e)},c=d=o=function(b,c,d,e,f){if("string"==typeof b)return q[b]?q[b](c):j(p(b,l(c)).f);if(!b.splice){if(t=b,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(a,b,c,d):setTimeout(function(){n(a,b,c,d)},4),o},o.config=function(a){return o(a)},c._defined=r,e=function(a,c,d){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");c.splice||(d=c,c=[]),b(r,a)||b(s,a)||(s[a]=[a,c,d])},e.amd={jQuery:!0}}(),e("../node_modules/almond/almond",function(){}),e("directives/rndr",["jquery"],function(a){"use strict";return function(){return{restrict:"E",scope:{engine:"=",input:"="},link:{pre:function(b,c,d){b.engine.draw(a(c),b.input)}}}}}),e("services/AggregatorsProvider",["jquery"],function(a){"use strict";return function(){var b={};this.add=function(a,c){b[a]={aggregate:c}},this.$get=[function(){function c(b){a.extend(this,b)}return c.prototype={constructor:c,add:function(a,b){this[a]={aggregate:b}},list:function(){return Object.keys(this)}},new c(b)}]}}),e("services/SortersProvider",["jquery"],function(a){"use strict";return function(){var b={};this.add=function(a,c){b[a]=c},this.$get=[function(){function c(b){a.extend(this,b)}return c.prototype={constructor:c,add:function(a,b){this[a]=b},list:function(){return Object.keys(this)}},new c(b)}]}}),e("services/DataViewsProvider",["jquery"],function(a){"use strict";return function(){var b={};this.add=function(a,c,d){b[a]={view:c,opts:d}},this.$get=[function(){function c(b){a.extend(this,b)}return c.prototype={constructor:c,add:function(a,b,c){this[a]={view:b,opts:c}},list:function(){return Object.keys(this)}},new c(b)}]}}),e("services/DerivedAttributesProvider",[],function(){"use strict";return function(){var b={};this.add=function(a,c){b[a]=c},this.$get=[function(){function c(b){a.extend(this,b)}return c.prototype={constructor:c,add:function(a,b){this[a]=b},list:function(){return Object.keys(this)}},new c(b)}]}}),e("services/FormattersProvider",["jquery"],function(a){"use strict";return function(){var b={};this.add=function(a,c){b[a]=c},this.$get=[function(){function c(b){a.extend(this,b)}return c.prototype={constructor:c,add:function(a,b){this[a]=b},list:function(){return Object.keys(this)}},new c(b)}]}}),e("services/RenderersProvider",["jquery"],function(a){"use strict";return function(){var b={};this.add=function(a,c,d,e,f){void 0!==f&&""!==f&&null!==f||(f=function(a,b,c){}),b[a]={render:c,opts:e,dataViewName:d,finalize:f}},this.$get=[function(){function c(b){a.extend(this,b)}return c.prototype={constructor:c,add:function(a,b,c,d,e){void 0!==e&&""!==e&&null!==e||(e=function(a,b,c){}),this[a]={render:b,opts:d,dataViewName:c,finalize:e}},list:function(){return Object.keys(this)}},new c(b)}]}}),e("services/RenderingEngine",["jquery","angular"],function(a,b){"use strict";var c=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})};return function(d,e,f,g,h,i,j,k){function l(a,b,d,f,g,h,j,k,l){if(void 0===d||""===d||null===d?this.id=c():this.id=d,void 0===b||""===b||null===b?this.title="Untitled":this.title=b,void 0===a||""===a||null===a){var m=new Error("RenderingEngine constructor: cannot instantiate a RenderingEngine object without a renderer name.");throw"undefined"!=typeof console&&null!==console&&console.error(m.stack),m}this.rendererName=a,void 0!==k&&""!==k&&null!==k?this.localeName=k:this.localeName="en",this.setAggregator(f,g),this.setDerivedAttributes(j),this.setSorters(l),void 0!==h&&""!==h&&null!==h?this.dataView=new i[e[this.rendererName].dataViewName].view([],{aggregator:this.aggregator,derivedAttributes:this.derivedAttributes,meta:h}):this.dataView=new i[e[this.rendererName].dataViewName].view([],{aggregator:this.aggregator,derivedAttributes:this.derivedAttributes}),this.dirty=!1}return l.prototype={constructor:l,setRendererName:function(a){if(void 0===a||""===a||null===a){var b=new Error("Cannot configure a rendering engine without a renderer name.");throw"undefined"!=typeof console&&null!==console&&console.error(b.stack),b}this.rendererName=a,this.dirty=!0},setLocaleName:function(a){void 0!==a&&""!==a&&null!==a?this.localeName=a:this.localeName="en",this.dirty=!0},setTitle:function(a){void 0!==a&&""!==a&&null!==a?this.title=a:this.title="Untitiled",this.dirty=!0},setDerivedAttributes:function(a){this.derivedAttributes={},void 0!==a&&""!==a&&null!==a&&b.forEach(a,function(a){try{this.derivedAttributes[a]=f[a]}catch(c){var b=c;"undefined"!=typeof console&&null!==console&&console.log("The '"+a+"' derived attribute is not configured with the $ngRndrDerivedAttributes service. Stack Trace: "+b.stack)}}),this.dirty=!0},setSorters:function(a){this.sorters={},void 0!==a&&""!==a&&null!==a&&b.forEach(a,function(a){try{this.sorters[a]=g[a]}catch(c){var b=c;"undefined"!=typeof console&&null!==console&&console.log("The '"+a+"' sorter is not configured with the $ngRndrSorters service. Stack Trace: "+b.stack)}}),this.dirty=!0},setAggregator:function(a,b){try{void 0===this.aggregator&&(this.aggregator={name:"Count",aggregate:d.Count.aggregate,aggInputAttributeName:[]})}catch(a){var c=a;"undefined"!=typeof console&&null!==console&&console.log("The 'Count' aggregator is not configured with the $ngRndrAggregators service. Stack Trace: "+c.stack)}if(void 0===a||""===a||null===a){this.aggregator.name="Count";try{this.aggregator.aggregate=d.Count.aggregate}catch(a){var c=a;"undefined"!=typeof console&&null!==console&&console.log("The 'Count' aggregator is not configured with the $ngRndrAggregators service. Stack Trace: "+c.stack)}this.aggregator.aggInputAttributeName=[]}else{this.aggregator.name=a;try{this.aggregator.aggregate=d[a].aggregate}catch(a){var c=a;"undefined"!=typeof console&&null!==console&&console.log("The '"+name+"' aggregator is not configured with the ngRndr.aggregators module. Stack Trace: "+c.stack)}this.aggregator.aggInputAttributeName=[]}var e=d[this.aggregator.name].aggregate([])([]).numInputs;void 0===e?this.aggregator.aggInputAttributeName=new Array:this.aggregator.aggInputAttributeName.length!==e&&(this.aggregator.aggInputAttributeName=new Array(e)),void 0!==b&&""!==b&&null!==b&&(this.aggregator.aggInputAttributeName=b),this.dirty=!0},draw:function(b,c){var d=this;return k.$emit("RenderingEngine:draw:begin"),j(function(b){var c;try{var f={aggregator:d.aggregator,derivedAttributes:d.derivedAttributes,sorters:d.sorters,formatters:h,meta:d.dataView.meta};d.dataView=new i[e[d.rendererName].dataViewName].view(b.data,a.extend(f,i[e[d.rendererName].dataViewName].opts));var g={heightOffset:0,widthOffset:0,locales:{en:{localeStrings:{renderError:"An error occurred rendering the results.",computeError:"An error occurred computing the results."}}},height:b.element.parent().innerHeight(),width:b.element.parent().innerWidth()};try{c=e[d.rendererName].render(d,a.extend(g,e[d.rendererName].opts))}catch(c){var j=c;"undefined"!=typeof console&&null!==console&&console.log(j.stack),b.element.empty(),b.element.append(a("<span>").html(g.locales[d.localeName].localeStrings.renderError)),k.$emit("RenderingEngine:draw:complete")}}catch(c){var j=c;"undefined"!=typeof console&&null!==console&&console.log(j.stack),b.element.empty(),b.element.append(a("<span>").html(g.locales[d.localeName].localeStrings.computeError)),k.$emit("RenderingEngine:draw:complete")}return k.$emit("RenderingEngine:draw:complete"),b.element.empty(),b.element.append(c.html),e[d.rendererName].finalize(b.element,c,g),d.dirty=!1,console.log(d.meta()),c},1500,!0,{data:c,element:b})},isDirty:function(){return this.dirty||this.dataView.meta.dirty},meta:function(){var a={};return a.rendererName=this.rendererName,a.id=this.id,a.title=this.title,a.localeName=this.localeName,a.dataView={},a.dataView.meta=this.dataView.meta,a.aggregator={name:this.aggregator.name,aggInputAttributeName:this.aggregator.aggInputAttributeName},a.derivedAttributes=[],b.forEach(this.derivedAttributes,function(b,c){a.derivedAttributes.push(c)}),a.sorters=[],b.forEach(this.sorters,function(b,c){a.sorters.push(c)}),a}},l}}),e("services/RenderingEngines",[],function(){"use strict";return function(a){function b(){this.init()}return b.prototype={constructor:b,init:function(){var a=this;a.map={}},size:function(){return Object.keys(this.map).length},add:function(a){var b=this;b.map[a.id]=a},delete:function(a){var b=this;delete b.map[a]}},b}}),e("ng-rndr",["directives/rndr","services/AggregatorsProvider","services/SortersProvider","services/DataViewsProvider","services/DerivedAttributesProvider","services/FormattersProvider","services/RenderersProvider","services/RenderingEngine","services/RenderingEngines"],function(a,c,d,e,f,g,h,i,j){var k=b.module("ngRndr",[]);a.$inject=[],c.$inject=[],d.$inject=[],f.$inject=[],e.$inject=[],h.$inject=[],i.$inject=["$ngRndrAggregators","$ngRndrRenderers","$ngRndrDerivedAttributes","$ngRndrSorters","$ngRndrFormatters","$ngRndrDataViews","$timeout","$rootScope"],j.$inject=["$ngRndrRenderingEngine"],k.provider("$ngRndrRenderers",h),k.provider("$ngRndrDataViews",e),k.provider("$ngRndrAggregators",c),k.provider("$ngRndrSorters",d),k.provider("$ngRndrDerivedAttributes",f),k.provider("$ngRndrFormatters",g),k.directive("rndr",a),k.service("$ngRndrRenderingEngine",i),k.service("$ngRndrRenderingEngines",j)}),e("jquery",[],function(){"use strict";return a}),e("angular",[],function(){"use strict";return b}),d("ng-rndr")});
//# sourceMappingURL=ng-rndr.min.js.map