!function(a,b){void 0===a.rndr&&(a.rndr={}),void 0===a.rndr.plugins&&(a.rndr.plugins={}),void 0===a.rndr.plugins.pivotData&&(a.rndr.plugins.pivotData={}),void 0===a.rndr.plugins.pivotData.renderers&&(a.rndr.plugins.pivotData.renderers={}),void 0===a.rndr.plugins.pivotData.renderers.d3&&(a.rndr.plugins.pivotData.renderers.d3={}),"function"==typeof define&&define.amd?define(["jquery","d3","$rndrRenderers"],function(c,d,e){return b(a,c,d,e)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery"),require("d3"),require("$rndrRenderers")):b(a,a.$,a.d3,a.rndr.plugins.renderers)}(this,function(a,b,c,d){var e={"D3 - Treemap":function(a,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;for(g={locales:{en:{localeStrings:{}}},d3:{width:function(){return d.height+d.heightOffset},height:function(){return d.width+d.widthOffset}}},d=b.extend(!0,g,d),l=b("<div>").css({width:d.d3.width(),height:d.d3.height()}),n={name:"All",children:[]},e=function(a,b,c){var d,f,g,h,i,j;if(0===b.length)return void(a.value=c);for(null==a.children&&(a.children=[]),j=b.shift(),i=a.children,f=0,g=i.length;f<g;f++)if(d=i[f],d.name===j)return void e(d,b,c);return h={name:j},e(h,b,c),a.children.push(h)},k=a.dataView.getRowKeys(),i=0,j=k.length;i<j;i++)m=k[i],p=a.dataView.getAggregator(m,[]).value(),null!=p&&e(n,m,p);return f=c.scale.category10(),q=d.d3.width(),h=d.d3.height(),o=c.layout.treemap().size([d.d3.width,d.d3.height]).sticky(!0).value(function(a){return a.size}),c.select(l[0]).append("div").style("position","relative").style("width",q+"px").style("height",h+"px").datum(n).selectAll(".node").data(o.padding([15,0,0,0]).value(function(a){return a.value}).nodes).enter().append("div").attr("class","node").style("background",function(a){return null!=a.children?"lightgrey":f(a.name)}).text(function(a){return a.name}).call(function(){this.style("left",function(a){return a.x+"px"}).style("top",function(a){return a.y+"px"}).style("width",function(a){return Math.max(0,a.dx-1)+"px"}).style("height",function(a){return Math.max(0,a.dy-1)+"px"})}),d.element.empty(),d.element.append(l),l}};return a.rndr.plugins.pivotData.renderers.d3.tree=d.add("D3 - Treemap",e["D3 - Treemap"],"PivotData",{}),e});
//# sourceMappingURL=d3-renderers.min.js.map