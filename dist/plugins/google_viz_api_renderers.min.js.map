{"version":3,"sources":["google_viz_api_renderers.min.js"],"names":["callWithJQuery","pivotModule","exports","module","require","define","amd","jQuery","$","makeGoogleChart","chartType","extraOptions","pivotData","opts","base","base1","colKeys","dataTable","defaults","fullAggName","h","headers","numCharsInHAxis","options","result","rowKeys","wrapper","localeStrings","vs","by","gchart","extend","width","window","innerWidth","height","innerHeight","getRowKeys","length","push","getColKeys","aggregatorName","valAttrs","join","i","len","results","unshift","formatData","css","google","visualization","ChartWrapper","draw","bind","editor","ChartEditor","events","addListener","getChartWrapper","openDialog","pivotUtilities","gchart_renderers","Line Chart","Bar Chart","Stacked Bar Chart","isStacked","Area Chart","Scatter Chart","call","this"],"mappings":"CAAA,WACE,GAAIA,IAEJA,EAAiB,SAASC,GACxB,MAAuB,gBAAZC,UAA0C,gBAAXC,QACjCF,EAAYG,QAAQ,WACA,kBAAXC,SAAyBA,OAAOC,IACzCD,QAAQ,UAAWJ,GAEnBA,EAAYM,UAIR,SAASC,GACtB,GAAIC,EAiEJ,OAhEAA,GAAkB,SAASC,EAAWC,GACpC,MAAO,UAASC,EAAWC,GACzB,GAAIC,GAAMC,EAAOC,EAASC,EAAWC,EAAUC,EAAaC,EAAGC,EAASC,EAAiBC,EAASC,EAAQC,EAASC,CA2DnH,OA1DAR,IACES,eACEC,GAAI,KACJC,GAAI,MAENC,WAEFjB,EAAOL,EAAEuB,QAAO,EAAMb,EAAUL,GACE,OAA7BC,EAAOD,EAAKiB,QAAQE,QACvBlB,EAAKkB,MAAQC,OAAOC,WAAa,KAEC,OAA/BnB,EAAQF,EAAKiB,QAAQK,SACxBpB,EAAMoB,OAASF,OAAOG,YAAc,KAEtCX,EAAUb,EAAUyB,aACG,IAAnBZ,EAAQa,QACVb,EAAQc,SAEVvB,EAAUJ,EAAU4B,aACG,IAAnBxB,EAAQsB,QACVtB,EAAQuB,SAEVpB,EAAcP,EAAU6B,eACpB7B,EAAU8B,SAASJ,SACrBnB,GAAe,IAAOP,EAAU8B,SAASC,KAAK,MAAS,KAEzDtB,EAAU,WACR,GAAIuB,GAAGC,EAAKC,CAEZ,KADAA,KACKF,EAAI,EAAGC,EAAMpB,EAAQa,OAAQM,EAAIC,EAAKD,IACzCxB,EAAIK,EAAQmB,GACZE,EAAQP,KAAKnB,EAAEuB,KAAK,KAEtB,OAAOG,MAETzB,EAAQ0B,QAAQ,IAChBzB,EAAkB,EAClBL,EAAYJ,EAAKiB,OAAOkB,WAAWpC,EAAWS,EAASI,EAAST,EAASG,GACzEI,KACAf,EAAEuB,OAAOR,EAASV,EAAKiB,OAAQnB,GAC/Ba,EAAShB,EAAE,SAASyC,KAClBjB,MAAO,OACPG,OAAQ,SAEVT,EAAU,GAAIwB,QAAOC,cAAcC,cACjCnC,UAAWA,EACXP,UAAWA,EACXa,QAASA,IAEXG,EAAQ2B,KAAK7B,EAAO,IACpBA,EAAO8B,KAAK,WAAY,WACtB,GAAIC,EAKJ,OAJAA,GAAS,GAAIL,QAAOC,cAAcK,YAClCN,OAAOC,cAAcM,OAAOC,YAAYH,EAAQ,KAAM,WACpD,MAAOA,GAAOI,kBAAkBN,KAAK7B,EAAO,MAEvC+B,EAAOK,WAAWlC,KAEpBF,IAGJhB,EAAEqD,eAAeC,kBACtBC,aAActD,EAAgB,aAC9BuD,YAAavD,EAAgB,eAC7BwD,oBAAqBxD,EAAgB,eACnCyD,WAAW,IAEbC,aAAc1D,EAAgB,aAC5ByD,WAAW,IAEbE,gBAAiB3D,EAAgB,qBAIpC4D,KAAKC","file":"google_viz_api_renderers.min.js","sourcesContent":["(function() {\n  var callWithJQuery;\n\n  callWithJQuery = function(pivotModule) {\n    if (typeof exports === \"object\" && typeof module === \"object\") {\n      return pivotModule(require(\"jquery\"));\n    } else if (typeof define === \"function\" && define.amd) {\n      return define([\"jquery\"], pivotModule);\n    } else {\n      return pivotModule(jQuery);\n    }\n  };\n\n  callWithJQuery(function($) {\n    var makeGoogleChart;\n    makeGoogleChart = function(chartType, extraOptions) {\n      return function(pivotData, opts) {\n        var base, base1, colKeys, dataTable, defaults, fullAggName, h, headers, numCharsInHAxis, options, result, rowKeys, wrapper;\n        defaults = {\n          localeStrings: {\n            vs: \"vs\",\n            by: \"by\"\n          },\n          gchart: {}\n        };\n        opts = $.extend(true, defaults, opts);\n        if ((base = opts.gchart).width == null) {\n          base.width = window.innerWidth / 1.4;\n        }\n        if ((base1 = opts.gchart).height == null) {\n          base1.height = window.innerHeight / 1.4;\n        }\n        rowKeys = pivotData.getRowKeys();\n        if (rowKeys.length === 0) {\n          rowKeys.push([]);\n        }\n        colKeys = pivotData.getColKeys();\n        if (colKeys.length === 0) {\n          colKeys.push([]);\n        }\n        fullAggName = pivotData.aggregatorName;\n        if (pivotData.valAttrs.length) {\n          fullAggName += \"(\" + (pivotData.valAttrs.join(\", \")) + \")\";\n        }\n        headers = (function() {\n          var i, len, results;\n          results = [];\n          for (i = 0, len = rowKeys.length; i < len; i++) {\n            h = rowKeys[i];\n            results.push(h.join(\"-\"));\n          }\n          return results;\n        })();\n        headers.unshift(\"\");\n        numCharsInHAxis = 0;\n        dataTable = opts.gchart.formatData(pivotData, headers, rowKeys, colKeys, fullAggName);\n        options = {};\n        $.extend(options, opts.gchart, extraOptions);\n        result = $(\"<div>\").css({\n          width: \"100%\",\n          height: \"100%\"\n        });\n        wrapper = new google.visualization.ChartWrapper({\n          dataTable: dataTable,\n          chartType: chartType,\n          options: options\n        });\n        wrapper.draw(result[0]);\n        result.bind(\"dblclick\", function() {\n          var editor;\n          editor = new google.visualization.ChartEditor();\n          google.visualization.events.addListener(editor, 'ok', function() {\n            return editor.getChartWrapper().draw(result[0]);\n          });\n          return editor.openDialog(wrapper);\n        });\n        return result;\n      };\n    };\n    return $.pivotUtilities.gchart_renderers = {\n      \"Line Chart\": makeGoogleChart(\"LineChart\"),\n      \"Bar Chart\": makeGoogleChart(\"ColumnChart\"),\n      \"Stacked Bar Chart\": makeGoogleChart(\"ColumnChart\", {\n        isStacked: true\n      }),\n      \"Area Chart\": makeGoogleChart(\"AreaChart\", {\n        isStacked: true\n      }),\n      \"Scatter Chart\": makeGoogleChart(\"ScatterChart\")\n    };\n  });\n\n}).call(this);\n\n//# sourceMappingURL=google_viz_api_renderers.js.map\n\n//# sourceMappingURL=google_viz_api_renderers.js.map\n"],"sourceRoot":"/source/"}