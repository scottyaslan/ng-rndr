{"version":3,"sources":["../../../src/plugins/data_views/PivotData.js"],"names":["callWithJQuery","factory","exports","module","require","define","amd","undefined","window","ngRNDR","plugins","dataViews","DataViews","jQuery","d3","$","PivotData","data","opts","this","meta","dataUtils","aggregator","convertToArray","filter","record","excludedItems","ref7","k","attributeFilterExclusions","indexOf","call","sorted","sorters","axisValues","shownAttributes","attributeFilterInclusions","attributesAvailableForRowsAndCols","tree","rowKeys","colKeys","rowTotals","colTotals","allTotal","colAttrs","cols","rowAttrs","rows","availableAttributes","concat","tblCols","self","ref","results","hasProp","push","l","len1","length","x","len2","n","c","hiddenAttributes","forEachRecord","derivedAttributes","base","v","processRecord","prototype","constructor","arrSort","attrs","a","sortersArr","getSort","b","comparison","i","sorter","sortKeys","sort","getColKeys","getRowKeys","colKey","flatColKey","flatRowKey","ref1","ref2","ref3","rowKey","join","String","fromCharCode","getAggregator","agg","value","format","isExcluded","property","key","addExclusionFilter","attributeFilterName","filterByAttributeValue","index","splice","angular","forEach","addInclusionFilter","oldAttributeFilterInclusions","initializeAggregator","numInputs","aggregate","aggInputAttributeName","Array"],"mappings":"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","file":"PivotData.min.js"}