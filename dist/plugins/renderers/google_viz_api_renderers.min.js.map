{"version":3,"sources":["google_viz_api_renderers.min.js"],"names":["callWithJQuery","factory","exports","module","require","define","amd","undefined","window","ngRNDR","plugins","renderers","$","extend","jQuery","makeGoogleChart","chartType","extraOptions","pivotData","opts","base","base1","colKeys","dataTable","defaults","fullAggName","h","headers","numCharsInHAxis","options","result","rowKeys","wrapper","localeStrings","vs","by","gchart","width","innerWidth","height","innerHeight","getRowKeys","length","push","getColKeys","meta","aggregatorName","valAttrs","join","i","len","results","unshift","formatData","css","google","visualization","ChartWrapper","draw","bind","editor","ChartEditor","events","addListener","getChartWrapper","openDialog","pivotUtilities","gchart_renderers","Line Chart","Bar Chart","Stacked Bar Chart","isStacked","Area Chart","Scatter Chart","call","this"],"mappings":"CAAA,WACI,GAAIA,IAEJA,EAAiB,SAASC,GACtB,MAAuB,gBAAZC,UAA0C,gBAAXC,QAC/BF,EAAQG,QAAQ,WACE,kBAAXC,SAAyBA,OAAOC,IACvCD,QAAQ,UAAWJ,IAEJM,SAAlBC,OAAOC,SACPD,OAAOC,UACuBF,SAA1BC,OAAOC,OAAOC,UACdF,OAAOC,OAAOC,WAC0BH,SAApCC,OAAOC,OAAOC,QAAQC,YACtBH,OAAOC,OAAOC,QAAQC,gBAIlCH,OAAOC,OAAOC,QAAQC,UAAYC,EAAEC,UAAWL,OAAOC,OAAOC,QAAQC,UAAWV,EAAQa,SACjFN,OAAOC,OAAOC,QAAQC,aAItB,SAASC,GACpB,GAAIG,EAiEJ,OAhEAA,GAAkB,SAASC,EAAWC,GAClC,MAAO,UAASC,EAAWC,GACvB,GAAIC,GAAMC,EAAOC,EAASC,EAAWC,EAAUC,EAAaC,EAAGC,EAASC,EAAiBC,EAASC,EAAQC,EAASC,CA2DnH,OA1DAR,IACIS,eACIC,GAAI,KACJC,GAAI,MAERC,WAEJjB,EAAOP,EAAEC,QAAO,EAAMW,EAAUL,GACE,OAA7BC,EAAOD,EAAKiB,QAAQC,QACrBjB,EAAKiB,MAAQ7B,OAAO8B,WAAa,KAED,OAA/BjB,EAAQF,EAAKiB,QAAQG,SACtBlB,EAAMkB,OAAS/B,OAAOgC,YAAc,KAExCT,EAAUb,EAAUuB,aACG,IAAnBV,EAAQW,QACRX,EAAQY,SAEZrB,EAAUJ,EAAU0B,aACG,IAAnBtB,EAAQoB,QACRpB,EAAQqB,SAEZlB,EAAcP,EAAU2B,KAAKC,eACzB5B,EAAU2B,KAAKE,SAASL,SACxBjB,GAAe,IAAOP,EAAU2B,KAAKE,SAASC,KAAK,MAAS,KAEhErB,EAAU,WACN,GAAIsB,GAAGC,EAAKC,CAEZ,KADAA,KACKF,EAAI,EAAGC,EAAMnB,EAAQW,OAAQO,EAAIC,EAAKD,IACvCvB,EAAIK,EAAQkB,GACZE,EAAQR,KAAKjB,EAAEsB,KAAK,KAExB,OAAOG,MAEXxB,EAAQyB,QAAQ,IAChBxB,EAAkB,EAClBL,EAAYJ,EAAKiB,OAAOiB,WAAWnC,EAAWS,EAASI,EAAST,EAASG,GACzEI,KACAjB,EAAEC,OAAOgB,EAASV,EAAKiB,OAAQnB,GAC/Ba,EAASlB,EAAE,SAAS0C,KAChBjB,MAAO,OACPE,OAAQ,SAEZP,EAAU,GAAIuB,QAAOC,cAAcC,cAC/BlC,UAAWA,EACXP,UAAWA,EACXa,QAASA,IAEbG,EAAQ0B,KAAK5B,EAAO,IACpBA,EAAO6B,KAAK,WAAY,WACpB,GAAIC,EAKJ,OAJAA,GAAS,GAAIL,QAAOC,cAAcK,YAClCN,OAAOC,cAAcM,OAAOC,YAAYH,EAAQ,KAAM,WAClD,MAAOA,GAAOI,kBAAkBN,KAAK5B,EAAO,MAEzC8B,EAAOK,WAAWjC,KAEtBF,IAGRlB,EAAEsD,eAAeC,kBACpBC,aAAcrD,EAAgB,aAC9BsD,YAAatD,EAAgB,eAC7BuD,oBAAqBvD,EAAgB,eACjCwD,WAAW,IAEfC,aAAczD,EAAgB,aAC1BwD,WAAW,IAEfE,gBAAiB1D,EAAgB,qBAI1C2D,KAAKC","file":"google_viz_api_renderers.min.js","sourcesContent":["(function() {\n    var callWithJQuery;\n\n    callWithJQuery = function(factory) {\n        if (typeof exports === \"object\" && typeof module === \"object\") {\n            return factory(require(\"jquery\"));\n        } else if (typeof define === \"function\" && define.amd) {\n            return define([\"jquery\"], factory);\n        } else {\n            if (window.ngRNDR === undefined) {\n                window.ngRNDR = {};\n                if (window.ngRNDR.plugins === undefined) {\n                    window.ngRNDR.plugins = {};\n                    if (window.ngRNDR.plugins.renderers === undefined) {\n                        window.ngRNDR.plugins.renderers = {};\n                    }\n                }\n            }\n            window.ngRNDR.plugins.renderers = $.extend({}, window.ngRNDR.plugins.renderers, factory(jQuery));\n            return window.ngRNDR.plugins.renderers;\n        }\n    };\n\n    callWithJQuery(function($) {\n        var makeGoogleChart;\n        makeGoogleChart = function(chartType, extraOptions) {\n            return function(pivotData, opts) {\n                var base, base1, colKeys, dataTable, defaults, fullAggName, h, headers, numCharsInHAxis, options, result, rowKeys, wrapper;\n                defaults = {\n                    localeStrings: {\n                        vs: \"vs\",\n                        by: \"by\"\n                    },\n                    gchart: {}\n                };\n                opts = $.extend(true, defaults, opts);\n                if ((base = opts.gchart).width == null) {\n                    base.width = window.innerWidth / 1.4;\n                }\n                if ((base1 = opts.gchart).height == null) {\n                    base1.height = window.innerHeight / 1.4;\n                }\n                rowKeys = pivotData.getRowKeys();\n                if (rowKeys.length === 0) {\n                    rowKeys.push([]);\n                }\n                colKeys = pivotData.getColKeys();\n                if (colKeys.length === 0) {\n                    colKeys.push([]);\n                }\n                fullAggName = pivotData.meta.aggregatorName;\n                if (pivotData.meta.valAttrs.length) {\n                    fullAggName += \"(\" + (pivotData.meta.valAttrs.join(\", \")) + \")\";\n                }\n                headers = (function() {\n                    var i, len, results;\n                    results = [];\n                    for (i = 0, len = rowKeys.length; i < len; i++) {\n                        h = rowKeys[i];\n                        results.push(h.join(\"-\"));\n                    }\n                    return results;\n                })();\n                headers.unshift(\"\");\n                numCharsInHAxis = 0;\n                dataTable = opts.gchart.formatData(pivotData, headers, rowKeys, colKeys, fullAggName);\n                options = {};\n                $.extend(options, opts.gchart, extraOptions);\n                result = $(\"<div>\").css({\n                    width: \"100%\",\n                    height: \"100%\"\n                });\n                wrapper = new google.visualization.ChartWrapper({\n                    dataTable: dataTable,\n                    chartType: chartType,\n                    options: options\n                });\n                wrapper.draw(result[0]);\n                result.bind(\"dblclick\", function() {\n                    var editor;\n                    editor = new google.visualization.ChartEditor();\n                    google.visualization.events.addListener(editor, 'ok', function() {\n                        return editor.getChartWrapper().draw(result[0]);\n                    });\n                    return editor.openDialog(wrapper);\n                });\n                return result;\n            };\n        };\n        return $.pivotUtilities.gchart_renderers = {\n            \"Line Chart\": makeGoogleChart(\"LineChart\"),\n            \"Bar Chart\": makeGoogleChart(\"ColumnChart\"),\n            \"Stacked Bar Chart\": makeGoogleChart(\"ColumnChart\", {\n                isStacked: true\n            }),\n            \"Area Chart\": makeGoogleChart(\"AreaChart\", {\n                isStacked: true\n            }),\n            \"Scatter Chart\": makeGoogleChart(\"ScatterChart\")\n        };\n    });\n\n}).call(this);\n\n//# sourceMappingURL=google_viz_api_renderers.js.map\n\n//# sourceMappingURL=google_viz_api_renderers.js.map\n"]}