(function(){var t,e={}.hasOwnProperty;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(void 0===window.ngRNDR&&(window.ngRNDR={},void 0===window.ngRNDR.plugins&&(window.ngRNDR.plugins={},void 0===window.ngRNDR.plugins.renderers&&(window.ngRNDR.plugins.renderers={}))),window.ngRNDR.plugins.renderers=$.extend({},window.ngRNDR.plugins.renderers,t(jQuery)),window.ngRNDR.plugins.renderers)})(function(t){var n,a;return n=function(n,a){var r,l,i,o,c,s,d,u,p,h,m,f,g,v,w,b,E,T,C,A,R,N,L,M;s={localeStrings:{totals:"Totals"}},a=t.extend(s,a),i=n.meta.colAttrs,m=n.meta.rowAttrs,g=n.getRowKeys(),c=n.getColKeys(),h=document.createElement("table"),t(h).width(a.width+a.widthOffset),h.className=a["class"].join(" "),C=document.createElement("thead"),w=document.createElement("tbody"),E=document.createElement("tfoot"),v=function(t,e,n){var a,r,l,i,o,c,s,d;if(0!==e){for(i=!0,d=a=0,o=n;0<=o?a<=o:a>=o;d=0<=o?++a:--a)t[e-1][d]!==t[e][d]&&(i=!1);if(i)return-1}for(l=0;e+l<t.length;){for(s=!1,d=r=0,c=n;0<=c?r<=c:r>=c;d=0<=c?++r:--r)t[e][d]!==t[e+l][d]&&(s=!0);if(s)break;l++}return l};for(u in i)if(e.call(i,u)){l=i[u],R=document.createElement("tr"),0===parseInt(u)&&0!==m.length&&(T=document.createElement("th"),T.setAttribute("colspan",m.length),T.setAttribute("rowspan",i.length),R.appendChild(T)),T=document.createElement("th"),T.className="pvtAxisLabel",t(T).css("white-space","nowrap"),T.innerHTML=l,R.appendChild(T);for(d in c)e.call(c,d)&&(o=c[d],M=v(c,parseInt(d),parseInt(u)),M!==-1&&(T=document.createElement("th"),t(T).off("dblclick").on("dblclick",function(e){var n;return n=t.Event("colLabelDrillDownEvent",{event:e,renderingEngineId:a.renderingEngineId}),t(window).trigger(n)}),T.className="pvtColLabel",T.innerHTML=o[u],T.setAttribute("colspan",M),parseInt(u)===i.length-1&&0!==m.length&&T.setAttribute("rowspan",2),R.appendChild(T)));0===parseInt(u)&&(T=document.createElement("th"),T.className="pvtTotalLabel",T.innerHTML=a.localeStrings.totals,T.setAttribute("rowspan",i.length+(0===m.length?0:1)),R.appendChild(T)),C.appendChild(R)}if(0!==m.length){R=document.createElement("tr");for(d in m)e.call(m,d)&&(p=m[d],T=document.createElement("th"),t(T).css("white-space","nowrap"),T.className="pvtAxisLabel",T.innerHTML=p,R.appendChild(T));T=document.createElement("th"),0===i.length&&(T.className="pvtTotalLabel",T.innerHTML=a.localeStrings.totals),R.appendChild(T),C.appendChild(R)}for(d in g)if(e.call(g,d)){f=g[d],R=document.createElement("tr");for(u in f)e.call(f,u)&&(N=f[u],T=document.createElement("th"),t(T).css("white-space","nowrap"),t(T).off("dblclick").on("dblclick",function(e){var n;return n=t.Event("rowLabelDrillDownEvent",{event:e,renderingEngineId:a.renderingEngineId}),t(window).trigger(n)}),T.className="pvtRowLabel",T.innerHTML=N,R.appendChild(T),parseInt(u)===m.length-1&&0!==i.length&&R.appendChild(document.createElement("th")));for(u in c)e.call(c,u)&&(o=c[u],r=n.getAggregator(f,o),L=r.value(),b=document.createElement("td"),b.className="pvtVal row"+d+" col"+u,b.innerHTML=r.format(L),b.setAttribute("data-value",L),R.appendChild(b));A=n.getAggregator(f,[]),L=A.value(),b=document.createElement("td"),b.className="pvtTotal rowTotal",b.innerHTML=A.format(L),b.setAttribute("data-value",L),b.setAttribute("data-for","row"+d),R.appendChild(b),w.appendChild(R)}R=document.createElement("tr"),T=document.createElement("th"),T.className="pvtTotalLabel",T.innerHTML=a.localeStrings.totals,T.setAttribute("colspan",m.length+(0===i.length?0:1)),R.appendChild(T);for(u in c)e.call(c,u)&&(o=c[u],A=n.getAggregator([],o),L=A.value(),b=document.createElement("td"),b.className="pvtTotal colTotal",b.innerHTML=A.format(L),b.setAttribute("data-value",L),b.setAttribute("data-for","col"+u),R.appendChild(b));return A=n.getAggregator([],[]),L=A.value(),b=document.createElement("td"),b.className="pvtGrandTotal",b.innerHTML=A.format(L),b.setAttribute("data-value",L),R.appendChild(b),h.appendChild(C),h.appendChild(w),E.appendChild(R),h.appendChild(E),h.setAttribute("data-numrows",g.length),h.setAttribute("data-numcols",c.length),h.setAttribute("data-numcolattrs",i.length),h.setAttribute("data-numrowattrs",m.length),h},t.fn.finalize=function(e){var n,a,r,l,i;return r=this.data("numrowattrs"),n=this.data("numcolattrs"),a=r,n>0&&(a+=1),l={scrollY:e.height+e.heightOffset-30*(n+1),fixedColumns:{leftColumns:a,rightColumns:1},scrollX:!0,scrollCollapse:!0,paging:!1,keys:!0,dom:"Bfrtip",buttons:["csvHtml5","pdfHtml5","print"]},i=0!==r||0!==n?{html:this.width("100%"),type:"datatables",postRenderOpts:l,postRenderFunction:function(e,n){t(e).DataTable(n)}}:{html:this,type:"datatables"}},t.fn.heatmap=function(e,n){var a,r,l,i,o,c,s,d,u,p,h;switch(null==e&&(e="heatmap"),d=this.data("numrows"),s=this.data("numcols"),a=null!=n&&null!=(u=n.heatmap)?u.colorScaleGenerator:void 0,null==a&&(a=function(t){var e,n;return n=Math.min.apply(Math,t),e=Math.max.apply(Math,t),function(t){var a;return a=255-Math.round(255*(t-n)/(e-n)),"rgb(255,"+a+","+a+")"}}),r=function(e){return function(n){var r,l,i;return l=function(a){return e.find(n).each(function(){var e;if(e=t(this).data("value"),null!=e&&isFinite(e))return a(e,t(this))})},i=[],l(function(t){return i.push(t)}),r=a(i),l(function(t,e){return e.css("background-color",r(t))})}}(this),e){case"heatmap":r(".pvtVal");break;case"rowheatmap":for(l=o=0,p=d;0<=p?o<p:o>p;l=0<=p?++o:--o)r(".pvtVal.row"+l);break;case"colheatmap":for(i=c=0,h=s;0<=h?c<h:c>h;i=0<=h?++c:--c)r(".pvtVal.col"+i)}return r(".pvtTotal.rowTotal"),r(".pvtTotal.colTotal"),this},t.fn.barchart=function(){var e,n,a,r,l,i;for(l=this.data("numrows"),r=this.data("numcols"),e=function(e){return function(n){var a,r,l,i;return a=function(a){return e.find(n).each(function(){var e;if(e=t(this).data("value"),null!=e&&isFinite(e))return a(e,t(this))})},i=[],a(function(t){return i.push(t)}),r=Math.max.apply(Math,i),l=function(t){return 100*t/(1.4*r)},a(function(e,n){var a,r;return a=n.text(),r=t("<div>").css({position:"relative"}),r.append(t("<div>").css({position:"absolute",bottom:-2,left:0,right:0,height:l(e)+"%","background-color":"gray"})),r.append(t("<div>").text(a).css({position:"relative","padding-left":"5px","padding-right":"5px"})),n.css({padding:0,"padding-top":"5px","text-align":"center"}).html(r)})}}(this),n=a=0,i=l;0<=i?a<i:a>i;n=0<=i?++a:--a)e(".pvtVal.row"+n);return e(".pvtTotal.colTotal"),this},a={Table:function(e,a){return t(n(e,a)).finalize(a)},"Table Barchart":function(e,a){return t(n(e,a)).barchart().finalize(a)},Heatmap:function(e,a){return t(n(e,a)).heatmap("heatmap",a).finalize(a)},"Row Heatmap":function(e,a){return t(n(e,a)).heatmap("rowheatmap",a).finalize(a)},"Col Heatmap":function(e,a){return t(n(e,a)).heatmap("colheatmap",a).finalize(a)}}})}).call(this);
//# sourceMappingURL=datatables_renderers.min.js.map
