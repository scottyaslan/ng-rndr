<!-- /*   Data Analytics Toolkit: Explore any data avaialable through a REST service 
*    Copyright (C) 2016  Scott Aslan
*
*    This program is free software: you can redistribute it and/or modify
*    it under the terms of the GNU Affero General Public License as
*    published by the Free Software Foundation, either version 3 of the
*    License, or (at your option) any later version.
*
*    This program is distributed in the hope that it will be useful,
*    but WITHOUT ANY WARRANTY; without even the implied warranty of
*    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*    GNU Affero General Public License for more details.
*
*    You should have received a copy of the GNU Affero General Public License
*    along with this program.  If not, see <http://www.gnu.org/licenses/agpl.html>.
*/ -->
<md-content flex id="data_analytics_toolkit" ng-switch on="DATController.mainContentView" flex layout-fill layout="column" tabIndex="-1" role="main" style="overflow: hidden;">
    <md-menu-bar ng-if="DATController.mainContentView !== 'Data Source Configuration Wizard' && DATController.mainContentView !== 'Dashboard Designer'" class="md-whiteframe-z5" style="z-index:3;">
        <md-menu>
            <button ng-click="$mdOpenMenu()">
                File
            </button>
            <md-menu-content>
                <md-menu-item>
                    <md-menu>
                        <md-button ng-click="$mdOpenMenu()">New</md-button>
                        <md-menu-content>
                            <md-menu-item>
                                <md-button ng-click="DATController.initiateDataExploration(true);">Data Exploration</md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button ng-click="DATController.initiateDataSourceConfigurationWizard();">Data Source Configuration</md-button>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </md-menu-item>
                <md-menu-item ng-if="DATController.mainContentView !== 'Dashboard Designer' && RenderingEngineManager.activeRenderingEngine">
                    <md-button ng-click="RenderingEngineManager.delete(RenderingEngineManager.activeRenderingEngine);">Delete</md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
        <md-menu>
            <!--  move $mdOpenMenu() into UiControls -->
            <button ng-click="$mdOpenMenu()">
                Perspective
            </button>
            <md-menu-content style="z-index:3;">
                <md-menu-item>
                    <md-button ng-click="DATController.initiateDataExploration(false);">Explore</md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button ng-click="DATController.mainContentView = 'Dashboard Designer'">Dashboard Designer</md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
        <md-menu>
            <!--  move $mdOpenMenu() into UiControls -->
            <button ng-disabled="DATController.sandboxMenusEnabled()" ng-click="$mdOpenMenu()">
                View
            </button>
            <md-menu-content style="z-index:3;">
                <md-menu-item ng-repeat="rendererName in Renderers.availableRendererNames">
                    <md-button ng-click="RenderingEngineManager.renderingEngines[RenderingEngineManager.activeRenderingEngine].setRendererName(rendererName, ServiceProvider.DataSourceManager.dataSources[RenderingEngineManager.renderingEngines[RenderingEngineManager.activeRenderingEngine].dataSourceConfigId].formattedData)">
                        {{rendererName}}
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
        <md-menu>
            <!--  move $mdOpenMenu() into UiControls -->
            <button ng-disabled="DATController.sandboxMenusEnabled()" ng-click="$mdOpenMenu()">
                Options
            </button>
            <md-menu-content>
                <md-menu-item>
                    <md-button ng-click="ServiceProvider.ExploreController.dialogContentView = 'Aggregate';UiControls.openDialog('Aggregate')">
                        Aggregate
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button ng-click="ServiceProvider.ExploreController.dialogContentView = 'Filters';UiControls.openDialog('Filters')">
                        Filter
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
    </md-menu-bar>
    <md-content style="height: 100%;" layout='column' ng-switch-when="Explore">
        <exploration-directive></exploration-directive>
    </md-content>
    <md-content style="height: 100%;" layout='column' ng-switch-when="Data Source Configuration Wizard">
        <acquisition-directive style="height: 100%;"></acquisition-directive>
    </md-content>
    <md-content style="height: 100%; overflow-x: hidden;" layout='column' ng-switch-when="Dashboard Designer">
        <dashboard-directive rendering-engine-manager="RenderingEngineManager"></dashboard-directive>
    </md-content>
</md-content>